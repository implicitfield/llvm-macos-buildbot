--- a/compiler-rt/lib/rtsan/CMakeLists.txt
+++ b/compiler-rt/lib/rtsan/CMakeLists.txt
@@ -37,6 +37,11 @@ set(RTSAN_DYNAMIC_LIBS
   ${SANITIZER_CXX_ABI_LIBRARIES}
   ${SANITIZER_COMMON_LINK_LIBS})
 
+if(TARGET cxx-headers OR HAVE_LIBCXX)
+  # Rtsan uses C++ standard library headers.
+  set(RTSAN_DEPS cxx-headers)
+endif()
+
 append_rtti_flag(OFF RTSAN_CFLAGS)
 
 if(APPLE)
